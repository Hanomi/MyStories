<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<f:view locale="#{localeChanger.currentLocale}">
    <h:head>
        <title>#{lcl.index_title}</title>
        <meta charset="utf-8"/>
        <h:outputStylesheet library="css" name="index.css"/>
    </h:head>

    <h:body>
        <div class="main">

            <h:panelGroup id="head" layout="block">
                <p class="title"><h:graphicImage library="images" name="my-story.png" width="150"
                                                 style="background: #999999"/></p>
                <p class="title">#{lcl.welcome_title}</p>
                <h:form>
                    <h:commandLink action="#{localeChanger.changeLocale('en')}" value="EN">
                        <f:ajax render=":login_div :footer :head" execute="@form"/>
                    </h:commandLink>
                    <h:commandLink action="#{localeChanger.changeLocale('ru')}" value="RU">
                        <f:ajax render=":login_div :footer :head" execute="@form"/>
                    </h:commandLink>
                </h:form>
            </h:panelGroup>

            <h:panelGroup id="login_div" styleClass="login_div" layout="block">
                <p class="title">#{lcl.input_info}</p>

                <h:form id="login_form" styleClass="login_form">
                    #{lcl.input_name}:
                    <p>
                        <h:inputText id="username" value="#{user.username}" required="true"
                                     requiredMessage="#{lcl.login_required}">
                            <!--         <f:validator validatorId="loginValidator"/>
                                      <f:ajax event="keyup" render="loginError"/>-->
                        </h:inputText>
                    </p>
                    <p>
                        <h:inputSecret id="password" value="#{user.password}" required="true"
                                       redisplay="true" requiredMessage="#{lcl.password_required}">
                            <!--                                        <f:validator validatorId="loginValidator"/>
                                                                    <f:ajax event="keyup" render="loginError"/>-->
                        </h:inputSecret>
                    </p>
                    <p>
                        <h:commandButton action="#{user.login()}"
                                         onclick="return checkValue(this.form, '#{lcl.login_required}');"
                                         value="#{lcl.enter}"/>
                    </p>
                    <p>
                        <h:message id="loginError" for="login_form" styleClass="error"/>
                        <h:message id="username_input" for="username" styleClaass="error"/>
                        <h:message id="password_input" for="password" styleClaass="error"/>
                    </p>
                </h:form>
            </h:panelGroup>

            <h:panelGroup id="footer" styleClass="footer" layout="block">
                #{lcl.developer_info}
            </h:panelGroup>
        </div>

    </h:body>
</f:view>
</html>
