<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<f:view locale="#{localeChanger.currentLocale}">
    <h:head>
        <title>#{lcl.index_title}</title>
        <meta charset="utf-8"/>
        <h:outputStylesheet library="css" name="index.css"/>
    </h:head>

    <h:body>
        <div class="authorization">
            <h:panelGroup layout="block" styleClass="lg">
                <h:graphicImage library="images" name="my-story.png" alt="" width="140"/>
            </h:panelGroup>
            <h:panelGroup layout="block" styleClass="lang">
                <h:form style="display: inline;">
                    <h:commandLink action="#{localeChanger.changeLocale('ru')}">
                        <h:graphicImage styleClass="#{localeChanger.currentLocale == 'ru' ? 'active':''}"
                                        library="images" name="rus.png" title="rus"/>
                    </h:commandLink>
                    <h:commandLink action="#{localeChanger.changeLocale('en')}">
                        <h:graphicImage styleClass="#{localeChanger.currentLocale == 'en' ? 'active':''}"
                                        library="images" name="eng.png" title="eng"/>
                    </h:commandLink>
                </h:form>
            </h:panelGroup>
            <div class="clear"/>
            <h:form id="login_form">
                <p:inputText id="input_username" value="#{user.username}" required="true" placeholder="#{lcl.input_name}"
                             requiredMessage="#{lcl.login_required}" styleClass="aut-text"/>
                <p:password id="input_password" value="#{user.password}" required="true" placeholder="#{lcl.input_password}"
                            requiredMessage="#{lcl.password_required}" redisplay="true" styleClass="aut-text"/>
                <h:panelGroup layout="block" styleClass="error">
                    <h:messages styleClass="error" id="messages"/>
                </h:panelGroup>
                <div class="save-me">
                    <label><input type="checkbox"/> #{lcl.remember_me}</label>
                </div>
                <p:commandButton id="btnLogin" action="#{user.login()}" value="#{lcl.enter}"
                                 styleClass="butt" update="login_form"
                                 onclick="this.disabled=true;" oncomplete="this.disabled=
                                                     true"/>
                <a class="remember" href="#">#{lcl.forgot_password}?</a>
            </h:form>
        </div>

    </h:body>
</f:view>
</html>
